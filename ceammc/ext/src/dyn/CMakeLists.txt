set(DYN_SOURCES "")
macro(ceammc_dyn_extension name)
    list(APPEND DYN_SOURCES "dyn_${name}.cpp")
    ceammc_faust_gen(dyn ${name})
endmacro()

ceammc_dyn_extension(comp)
ceammc_dyn_extension(comp2)
ceammc_dyn_extension(gate )
ceammc_dyn_extension(gate2)
ceammc_dyn_extension(limit)
ceammc_dyn_extension(limit2)
ceammc_dyn_extension(softclip)

add_library(ceammc_dyn STATIC mod_dyn.cpp ${DYN_SOURCES})
set_target_properties(ceammc_dyn PROPERTIES COMPILE_DEFINITIONS "FAUST_MACRO")
if(UNIX)
    set_target_properties(ceammc_dyn PROPERTIES COMPILE_FLAGS "-fPIC")
endif()
